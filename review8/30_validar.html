<!doctype html>
<html>
    <head>
        <title>Impacta Javascript</title>
        <meta charset="utf-8">

        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/bootstrap-theme.css" rel="stylesheet">
        <link href="css/javascriptImpacta.css" rel="stylesheet">


            
    </head>
    <body>
        <nav class="navbar navbar-inverse navbar-fixed-top">
		    <div class="container">	        
		        
		    </div>
	    </nav>


        <div class="jumbotron text-center">
	      <div class="container">
	        <h1>Bem Vindo ao Treinamento de Javascript da Impacta Tecnologia</h1>
	        
	        <p><a class="btn btn-primary btn-lg jumbotron-btn" href="http://www.impacta.com.br/curso/JavaScript.php" role="button" target="_blank">Saiba mais</a></p>
	      </div>
	    </div>

	    <section>
        	<div class="container">
	        	<h1>Validar</h1>
	        
		      
	        	<form class="form-inline">
				  <div class="form-group">	
				  		    
				    <input type="text" class="form-control" id="email" placeholder="E-mail">
				    </div>
				    <div class="form-group">	
				    <input type="text" class="form-control" id="cpf" placeholder="CPF">
				    </div>			    
				    <div class="form-group">
				    <button type="submit" class="btn btn-default">Enviar</button>
				    </div>			  
				  		  
				  
				</form>
        	</div>	
        </section>

        <section>
        	<div class="container">
	        
	        <h2>Resultados</h2>
	        <div id="resultado"></div>
	        
	      </div>
        </section>
        
        <script>
            
            //UTILS
            
    function calcularMedia(n1, n2, n3){
        var media = (n1 + n2 + n3) / 3;    
    return media;    
    }


    function mostrarMensagem(str){     
        var resultado = document.querySelector('#resultado');

        //resultado.innerHTML = str;

        resultado.innerHTML = resultado.innerHTML + str;
        //resultado.innerHTML += str;
    }


    function limparMensagem(){
        var resultado = document.querySelector("#resultado");

        resultado.innerHTML = '';
    }

    function sortearNumero(n){

        if(!n || typeof n != 'number'){
            throw new Error('função sortearNumero precisa de um parametro que seja número')
        }
        var sorteado = Math.random(); //retorna de 0 a 0.99999
        sorteado = sorteado * n;
        sorteado = Math.floor(sorteado); //math.floor arredonda para baixo
        return sorteado;

    }


    function calcularImc(peso, altura){    
        return peso / (altura * altura);

    }

    function $(seletor){
        return document.querySelector(seletor);
    }

    function $$(seletor){
        return document.querySelectorAll(seletor);
    }
            
            
    function validarEmail(email){
        
        return (email.indexOf("@") >= 0);
    }
            
    function validarCPF(cpf){
        
        //ReGex, expressão regular
        var padraoCPF = /[0-9]{3}/; //o CPF pode ter números de 0 a 9 e há três casas
        var padraoCPF2 = /^[0-9]{3}$/; //com ^ e termina com $ significa que esse padrão é obrigatório
        var padraoCPF3 = /^[0-9]{3}\.[0-9]{3}\.[0-9]{3}-[0-9]{2}$/; //aqui a variável exige que vc escreva o CPF com números e no seguinte formato xxx.xxx.xxx-xx
        
        
    };

            </script>
        
        
        <script>
            
        var inputCPF = $("#cpf");
            
        inputCPF.addEventListener("blur", function(){
            var Valido = validarCPF(inputCPF);
            
            if(Valido){
                limparMensagem();
                mostrarMensagem("CPF válido");
            }
            else{
                limparMensagem();
                mostrarMensagem("CPF inválido");
            }
        });
            
        $("form").addEventListener("submit", function(e){
            var emailValue = $("#email").value;
            var Valido = validarEmail(emailValue);
            
            if(!Valido){
                alert("Corrija o e-mail");
                e.preventDefault();
                $("#email").focus(); //foco vai para o campo do e-mail para o usuário digitar novamente
            }
        })
            
        
        
        </script>

        
    </body>
</html>