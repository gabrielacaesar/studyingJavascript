<!doctype html>
<html>
    <head>
        <title>Impacta Javascript</title>
        <meta charset="utf-8">

        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/bootstrap-theme.css" rel="stylesheet">
        <link href="css/javascriptImpacta.css" rel="stylesheet">


            
    </head>
    <body>
        <nav class="navbar navbar-inverse navbar-fixed-top">
		    <div class="container">	        
		        
		    </div>
	    </nav>


        <div class="jumbotron text-center">
	      <div class="container">
	        <h1>Bem Vindo ao Treinamento de Javascript da Impacta Tecnologia</h1>
	        
	        <p><a class="btn btn-primary btn-lg jumbotron-btn" href="http://www.impacta.com.br/curso/JavaScript.php" role="button" target="_blank">Saiba mais</a></p>
	      </div>
	    </div>

	    <section>
        	<div class="container">
	        	<h1>Validar</h1>
	        
		      
	        	<form class="form-inline">
				  <div class="form-group">	
				  		    
				    <input type="text" class="form-control" id="email" placeholder="E-mail">
				    </div>
				    <div class="form-group">	
				    <input type="text" class="form-control" id="cpf" placeholder="CPF">
				    </div>			    
				    <div class="form-group">
				    <button type="submit" class="btn btn-default">Enviar</button>
				    </div>			  
				  		  
				  
				</form>
        	</div>	
        </section>

        <section>
        	<div class="container">
	        
	        <h2>Resultados</h2>
	        <div id="resultado"></div>
	        
	      </div>
        </section>
        
        <script src="utils.js"></script>
        <script>
        
            var inputCPF = $('#cpf');
            
            inputCPF.addEventListener('blur', function(){
                var ehValido = validarCPF(this.value);
                
                if(ehValido){
                    limparMensagem()
                    mostrarMensagem('cpf valido');
                } else {
                    limparMensagem()
                    mostrarMensagem('cpf invalido');
                }
                
            });
            
            $('form').addEventListener('submit', function(e){
                
                var emailValue = $('#email').value;
                
                try{
                    var ehValido = validarEmail(emailValue);
                } catch(e){
                    console.log(e)
                    alert('por favor, informar um email');
                    e.preventDefault();//impede o envio do formulario
                    return; //para de executar esta função
                }
                
                
                if(!ehValido){
                    alert('corrija o email');
                    e.preventDefault();
                    
                    $('#email').focus();
                }
                
            })
            
            
            
            
            
            
            
            
            
        </script>
    </body>
</html>